import{r as c,G as m,j as e,I as y,i as x,L as g}from"./index-ChxEb-0n.js";import{P as j}from"./ProductSlider-ozGAswkF.js";import"./ProductCard-Bg8sMIz_.js";const S=()=>{const l=["img/phones/apple-iphone-12/black/00.webp","img/phones/apple-iphone-12/purple/00.webp","img/phones/apple-iphone-12/red/00.webp","img/phones/apple-iphone-12/white/00.webp"],d={0:"phones/apple-iphone-12-128gb-black",1:"phones/apple-iphone-12-128gb-purple",2:"phones/apple-iphone-12-128gb-red",3:"phones/apple-iphone-12-128gb-white"},[h,t]=c.useState(0),{theme:o}=c.useContext(m),s=c.useRef(null),i=c.useCallback(()=>t(r=>(r+1)%l.length),[l.length]),a=c.useCallback(()=>t(r=>(r-1+l.length)%l.length),[l.length]);c.useEffect(()=>(s.current&&clearInterval(s.current),s.current=setInterval(i,5e3),()=>{s.current&&clearInterval(s.current)}),[]);const b=c.useCallback(r=>{t(r),s.current&&clearInterval(s.current),s.current=setInterval(i,5e3)},[i]),C=c.useCallback(()=>{i(),s.current&&clearInterval(s.current),s.current=setInterval(i,5e3)},[i]),N=c.useCallback(()=>{a(),s.current&&clearInterval(s.current),s.current=setInterval(i,5e3)},[i,a]),p=c.useRef(null),u=c.useRef(null),v=r=>{const n="touches"in r?r.touches[0].clientX:r.clientX;p.current=n},f=r=>{const n="changedTouches"in r?r.changedTouches[0].clientX:r.clientX;if(u.current=n,p.current===null||u.current===null)return;const _=p.current-u.current;Math.abs(_)>50&&(_>0?i():a(),s.current&&clearInterval(s.current),s.current=setInterval(i,5e3)),p.current=null,u.current=null};return e.jsxs("div",{className:"picturesSlider",onTouchStart:v,onTouchEnd:f,children:[e.jsxs("div",{className:"picturesSlider__container",children:[e.jsx("div",{className:"picturesSlider__button",onClick:N,children:e.jsx(y,{icon:x.arrow_left[o]})}),e.jsxs("div",{className:"picturesSlider__content",children:[e.jsxs("div",{className:"picturesSlider__aside",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"picturesSlider__aside-title",children:["Now available"," "]}),e.jsx("span",{className:"picturesSlider__aside-title",children:"in our store!"}),e.jsx("span",{className:"picturesSlider__aside-smile",children:"ðŸ‘Œ"})]}),e.jsx("div",{className:"picturesSlider__aside-description",children:"Be the first!"})]}),e.jsx(g,{to:d[h],className:"picturesSlider__aside-action",children:"Order now"})]}),e.jsx("div",{className:"picturesSlider__container-image",children:l.map((r,n)=>e.jsx("img",{src:r,alt:"Slide",className:h===n?"picturesSlider__image picturesSlider__image--active":"picturesSlider__image"},n))})]}),e.jsx("div",{className:"picturesSlider__button",onClick:C,children:e.jsx(y,{icon:x.arrow_right[o]})})]}),e.jsx("div",{className:"picturesSlider__dots",children:l.map((r,n)=>e.jsx("div",{className:h===n?"picturesSlider__dot picturesSlider__dot--active":"picturesSlider__dot",onClick:()=>b(n)},n))})]})},k=()=>{const{allProducts:l}=c.useContext(m),{phonesLength:d,tabletsLength:h,accessoriesLength:t}=c.useMemo(()=>{const o=[],s=[],i=[];return l.forEach(a=>{a.category==="phones"&&o.push(a.id),a.category==="tablets"&&s.push(a.id),a.category==="accessories"&&i.push(a.id)}),{phonesLength:o.length,tabletsLength:s.length,accessoriesLength:i.length}},[l]);return e.jsx("div",{className:"shopByCategory",children:e.jsxs("div",{className:"shopByCategory__container",children:[e.jsx("h2",{className:"shopByCategory__title",children:"Shop by category"}),e.jsxs("div",{className:"shopByCategory__content",children:[e.jsx(g,{to:"/phones",className:"shopByCategory__link",children:e.jsxs("section",{className:"shopByCategory__block",children:[e.jsx("div",{className:"shopByCategory__block-image",children:e.jsx("img",{src:"img/Category for phones.png",alt:"Category Phones"})}),e.jsx("h4",{className:"shopByCategory__block-title",children:"Mobile Phones"}),e.jsx("span",{className:"shopByCategory__block-description",children:`${d} models`})]})}),e.jsx(g,{to:"/tablets",className:"shopByCategory__link",children:e.jsxs("section",{className:"shopByCategory__block",children:[e.jsx("div",{className:"shopByCategory__block-image",children:e.jsx("img",{src:"img/Category for tablets.png",alt:"Category Tablets"})}),e.jsx("h4",{className:"shopByCategory__block-title",children:"Tablets"}),e.jsx("span",{className:"shopByCategory__block-description",children:`${h} models`})]})}),e.jsx(g,{to:"/phones",className:"shopByCategory__link",children:e.jsxs("section",{className:"shopByCategory__block",children:[e.jsx("div",{className:"shopByCategory__block-image",children:e.jsx("img",{src:"img/Category for accessories.png",alt:"Category Accessories"})}),e.jsx("h4",{className:"shopByCategory__block-title",children:"Accessories"}),e.jsx("span",{className:"shopByCategory__block-description",children:`${t} models`})]})})]})]})})},I=()=>{const{allProducts:l}=c.useContext(m),d=c.useMemo(()=>[...l].filter(t=>t.category==="phones").sort((t,o)=>o.year-t.year).slice(0,20),[l]),h=c.useMemo(()=>[...l].map(t=>({...t,discount:(t.fullPrice-t.price)/t.fullPrice*100})).sort((t,o)=>o.discount-t.discount).slice(0,20),[l]);return e.jsxs("div",{className:"homePage",children:[e.jsx("h1",{className:"visually-hidden",children:"Product Catalog"}),e.jsx("h1",{className:"homePage__title",children:"Welcome to Nice Gadgets store!"}),e.jsx(S,{}),e.jsx(j,{title:"Brand new models",products:d,displayType:"fullPrice"}),e.jsx(k,{}),e.jsx(j,{title:"Hot prices",products:h,displayType:"with-discount"})]})};export{I as HomePage};
